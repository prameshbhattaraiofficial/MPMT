@using Mpmt.Core.ViewModel.CashAgent;

@model IEnumerable<AgentMenuChild>
<link href="~/assets/css/icons.min.css" rel="stylesheet" type="text/css" />
<div class="left-sidenav theme-2">
    <!-- LOGO -->
    <div class="brand">
        <a asp-controller="Home" asp-action="Index" class="logo">
            <span>
                <img src="~/assets/images/logo-dark.png" alt="logo-large" class="logo-lg logo-light">
                <img src="~/assets/images/logo-dark.png" alt="logo-large" class="logo-lg logo-dark">
            </span>
        </a>
    </div>
    <!--end logo-->
    <div class="menu-content h-100" data-simplebar>
        <ul class="metismenu left-sidenav-menu">
            <li class="menu-label my-2">Components</li>
            @foreach (var menu in Model.OrderBy(m => m.DisplayOrder))
            {
                @if (menu.ParentId == 0 )
                {
                    <li>

                        @if (menu.Child.Any(c => c.Permission))
                        {
                            <a href="javascript: void(0);"><i class="@menu.ImagePath"></i><span>@menu.Title</span><span class="menu-arrow"><i class="mdi mdi-chevron-right"></i></span></a>
                            <ul class="nav-second-level" aria-expanded="true">
                                @foreach (var submenu in menu.Child.OrderBy(m => m.DisplayOrder))
                                {
                                 
                                        <li class="nav-item">
                                            <a class="nav-link"
                           asp-area="@submenu.Area"
                           asp-controller="@submenu.Controller"
                           asp-action="@submenu.Action">
                                                <i class="ti-control-record"></i>@submenu.Title
                                            </a>
                                        </li>
                                   
                                   
                                }
                            </ul>
                        }
                        else if (menu.Child.Count == 0 && menu.Permission)
                        {
                            <a asp-area="@menu.Area" asp-controller="@menu.Controller" asp-action="@menu.Action"><i class="@menu.ImagePath"></i><span>@menu.Title</span></a>
                        }
                    </li>
                }
            }
            @*@foreach (var menu in Model)
            {
            <li>
            @if (menu.Child.Count() == 0)
            {
            <a asp-controller="@menu.Controller" asp-action="@menu.Action"><i class="@menu.ImagePath"></i><span>@menu.Title</span></a>
            }
            else
            {
            <a href="javascript: void(0);"><i class="@menu.ImagePath"></i><span>@menu.Title</span><span class="menu-arrow"><i class="mdi mdi-chevron-right"></i></span></a>
            <ul class="nav-second-level " aria-expanded="true">
            @foreach (var submenu in menu.Child)
            {
            <li class="nav-item">
            <a class="nav-link"
            asp-controller="@submenu.Controller" asp-action="@submenu.Action">
            <i class="ti-control-record"></i>@submenu.Title
            </a>
            </li>
            }
            </ul>
            }
            </li>
            }*@
        </ul>
    </div>
</div>
<script src="~/assets/js/jquery.min.js"></script>

<script src="~/assets/js/metismenu.min.js"></script>
<script src="~/assets/js/app.js"></script>