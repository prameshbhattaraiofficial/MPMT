@using Mpmt.Core.Dtos.CashAgent;
@model AgentFundApproveRejectModel

<form method="post" id="myForm" enctype="multipart/form-data" asp-controller="SuperAgent" asp-action="ReviewFundRequestByAgent">
    <div class="mb-3  row">
        <div class="col-sm-8">
            <input type="hidden" name="RequestFundId" value="@Model.RequestFundId" id="RequestFundId" />
            <input type="hidden" name="AgentCode" value="@Model.AgentCode" id="AgentCode" />
            <input type="hidden" name="TotalAmount" value="@Model.TotalAmount" id="TotalAmount" />
            <input type="hidden" name="IsCommissionRequested" value="@(Model.IsCommissionRequested ? "true" : "false")" />
            <input type="hidden" name="IsTxnCashRequested" value="@(Model.IsTxnCashRequested ? "true" : "false")" />
        </div>
    </div>
    <div class=" pt-0 pb-0">
        <div class="form-floating">
            <textarea class="form-control remarksclass" maxlength="250" name="Remarks" onkeypress="return isAlphabateOnly(event);" id="Remarks" placeholder="Leave a comment here" style="height: 70px"></textarea>
            <label for="floatingTextarea2">Remarks</label>
        </div>
        <h6 class="text-danger" id="errRemarks" style="display:none">Remarks is required!</h6>
        <span asp-validation-for="Remarks" class="text-danger"></span>
    </div>
    <div class="form-group mb-0 row mt-4">
        <div class="col-12">
            <button class="btn btn-primary w-100 waves-effect waves-light" id="confirmYes" type="button">Submit <i class="fas fa-paper-plane ms-1"></i></button>
        </div>
    </div>
</form>

<script>
    function isAlphabateOnly(evt) {
        evt = (evt) ? evt : window.event;
        var charCode = (evt.which) ? evt.which : evt.keyCode;
        console.log(charCode);
        if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || (charCode == 32) || (charCode == 45)) {
            return true;
        }
        return false;
    }

    document.getElementById('confirmYes').addEventListener('click', function () {
        var valueErrRemarks = $('#Remarks').val();

        if (valueErrRemarks == null || valueErrRemarks == '') {
            $('#errRemarks').css("display", "block");
            return false;
        }
        else {
            document.getElementById('myForm').submit();
        }
    });

    $(".remarksclass").on("keypress", function () {
        debugger;
        evt = (evt) ? evt : window.event;
        var charCode = (evt.which) ? evt.which : evt.keyCode;
        console.log(charCode);
        if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || (charCode == 32) || (charCode == 17)) {
            return true;
        }
        return false;
    });
</script>

