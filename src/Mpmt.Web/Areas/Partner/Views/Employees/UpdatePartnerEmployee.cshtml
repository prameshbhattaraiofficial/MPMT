@using Mpmt.Core.Dtos.PartnerEmployee;
@model IUDPartnerEmployee

<form id="PartnerEmployeeUpdateForm" class="form-horizontal auth-form" method="post" autocomplete="off">
    <ul>
        @if (ViewBag.Error is not null)
        {
            <li class="text-danger">@ViewBag.Error</li>
        }
    </ul>
    <div class="row">
        <div class="col-md-4 mb-2 mb-2">
            <label asp-for="FirstName" class="form-label">First Name</label>
            <input asp-for="FirstName" onkeydown="return /[a-z]/i.test(event.key)" id="FirstName" type="text" class="form-control">
            <span asp-validation-for="FirstName" class="text-danger"></span>
        </div>
        <div class="col-md-4 mb-2 mb-2">
            <label asp-for="SurName" class="form-label">Last Name *</label>
            <input asp-for="SurName" onkeydown="return /[a-z]/i.test(event.key)" type="text" required class="form-control">
            <span asp-validation-for="SurName" class="text-danger"></span>
        </div>
        <div class="col-md-4 mb-2 mb-2">
            <label asp-for="SurName" class="form-label">Gender</label>
            <select asp-for="GenderId" class="form-select">
                <option value="1">Male</option>
                <option value="2">Female</option>
                <option value="3">Others</option>
            </select>
        </div>
        <div class="col-md-3 mb-2">
            <label asp-for="MobileNumber" class="form-label">Phone Number *</label>
            <input asp-for="MobileNumber" onkeydown="return isNumber(event)" required type="text" maxlength="15" class="form-control">
            <span asp-validation-for="MobileNumber" class="text-danger"></span>
        </div>
        <div class="col-md-3 mb-2">
            <label asp-for="Email" class="form-label">Email *</label>
            <div class="input-group has-validation">
                <input asp-for="Email" type="email" class="form-control">
            </div>
            <span asp-validation-for="Email" class="text-danger"></span>
        </div>
        <div class="col-md-3 mb-2">
            <label asp-for="Post" class="form-label">Position *</label>
            <input asp-for="Post" type="text" required class="form-control">
            <span asp-validation-for="Post" class="text-danger"></span>
        </div>
        <div class="col-md-3 mb-2">
        <label asp-for="UserName" class="form-label">Username</label>
        <input asp-for="UserName" type="text" required class="form-control" readonly>
        <span asp-validation-for="UserName" class="text-danger"></span>
        </div> @*
        <div class="col-md-6  mb-2">
        <label asp-for="Password" class="form-label">Password</label>
        <div class="input-group">
        <input asp-for="Password" type="password" class="form-control" id="id_password"> &ensp;
        <i id="togglePassword" class="mdi mdi-eye align-self-center font-16 icon-dual me-1"></i>
        </div>
        <span asp-validation-for="Password" class="text-danger"></span>
        </div>
        <div class="col-md-6  mb-2">
        <label asp-for="ConfirmPassword" class="form-label">Confirm Password</label>
        <div class="input-group">
        <input asp-for="ConfirmPassword" type="password" class="form-control" id="id_confirm_password"> &ensp;
        <i id="togglePasswordConfirm" class="mdi mdi-eye align-self-center font-16 icon-dual me-1"></i>
        </div>
        <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
        </div> *@
    </div>
    <div class="form-check form-switch mb-2">
        <input asp-for="IsActive" class="form-check-input" type="checkbox" id="flexSwitchCheckDefault">
        <label class="form-check-label" for="flexSwitchCheckDefault">Is Active</label>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-sm btn-light" data-bs-dismiss="modal">Cancel</button> &emsp;
        <button type="submit" class="btn btn-sm btn-primary">Update<i class="fas fa-paper-plane ms-1"></i></button>
    </div>
</form>

<script>
    const togglePass = document.querySelector('#togglePassword');
    const togglePassConfirm = document.querySelector('#togglePasswordConfirm');
    const pass = document.querySelector('#id_password');
    const passConfirm = document.querySelector('#id_confirm_password');

    togglePass.addEventListener('click', function (e) {
        const type = pass.getAttribute('type') === 'password' ? 'text' : 'password';
        pass.setAttribute('type', type);

        togglePass.classList.toggle('mdi-eye');
        togglePass.classList.toggle('mdi-eye-off');
    });

    togglePassConfirm.addEventListener('click', function (e) {
        const type = passConfirm.getAttribute('type') === 'password' ? 'text' : 'password';
        passConfirm.setAttribute('type', type);

        togglePassConfirm.classList.toggle('mdi-eye');
        togglePassConfirm.classList.toggle('mdi-eye-off');
    });
</script>

<script>
    FormHandler.init({
        method: 'POST',
        actionUrl: '@Url.Action("UpdatePartnerEmployee", "Employees")',
        containerSelector: '#add-new .modal-body',
        selector: '#PartnerEmployeeUpdateForm'
    }, function () {
        $("#add-new .modal-body").html("");
        $("#add-new .modal-title").html("");
        $("#add-new").modal('hide');
        Pagination.getData();
    });
</script>
@* <script src="~/js/ValidationScript.js"></script> *@